{"version":3,"file":"pageCustomizer.min.js","sources":["../../src/utils/pageCustomizer.js"],"sourcesContent":["export const customizePreferencesPage = (role = 'student', urlSegments = []) => {\n    if (currentPathHasCriteria('preferences')) {\n        const preferencesGroupsUrl = document.querySelectorAll('.preferences-groups__anchor-url');\n        const urlsToRemove = ['change_password', 'editor.php', 'contentbank.php', 'notificationpreferences.php'];\n        const itemsToRemove = urlSegments.length && role === 'all' ? urlSegments : urlsToRemove;\n\n        preferencesGroupsUrl.forEach(preferenceOption => {\n            itemsToRemove.forEach(itemToRemove => {\n                // eslint-disable-next-line babel/no-unused-expressions\n                preferenceOption.href.includes(itemToRemove) &&\n                preferenceOption.closest('.preferences-groups__anchor-container').remove();\n            });\n        });\n    }\n};\n\nexport const customizeForumSettingsPage = (role = 'student', urlSegments = []) => {\n    if (currentPathHasCriteria('user/forum.php?id')) {\n        const segmentsToRemove = ['id_useexperimentalui_label', 'id_trackforums_label'];\n        const itemsToRemove = urlSegments.length && role === 'all' ? urlSegments : segmentsToRemove;\n\n        const forumSettingLabelElements = document.querySelectorAll('.option-label__label');\n\n        forumSettingLabelElements.forEach(forumLabel => {\n            itemsToRemove.forEach(itemToRemove => {\n                // eslint-disable-next-line babel/no-unused-expressions\n                forumLabel.id.includes(itemToRemove) &&\n                forumLabel.closest('.option-label__container').remove();\n            });\n        });\n    }\n};\n\nexport const changeProfileReportUrls = (url = '') => {\n    if (!isStudent() || !currentPathHasCriteria('profile')) {\n        return;\n    }\n\n    const nodeCategories = document.querySelectorAll('.node_category');\n    nodeCategories.forEach(nodeCategory => {\n        const reportsLinks = nodeCategory.querySelectorAll('a');\n\n        reportsLinks.forEach(link => {\n            if (link.href.includes('grade/report/overview')) {\n                link.href = url;\n                link.setAttribute('target', '_blank');\n            }\n        });\n    });\n};\n\nconst currentPathHasCriteria = (criteria) => window.location.href.includes(criteria);\nconst isStudent = () => document.querySelector('body').classList.contains('role-student');\n"],"names":["role","urlSegments","currentPathHasCriteria","preferencesGroupsUrl","document","querySelectorAll","urlsToRemove","itemsToRemove","length","forEach","preferenceOption","itemToRemove","href","includes","closest","remove","segmentsToRemove","forumLabel","id","url","isStudent","nodeCategories","nodeCategory","link","setAttribute","criteria","window","location","querySelector","classList","contains"],"mappings":"gRAAwC,eAACA,4DAAO,UAAWC,mEAAc,MACjEC,uBAAuB,eAAgB,OACjCC,qBAAuBC,SAASC,iBAAiB,mCACjDC,aAAe,CAAC,kBAAmB,aAAc,kBAAmB,+BACpEC,cAAgBN,YAAYO,QAAmB,QAATR,KAAiBC,YAAcK,aAE3EH,qBAAqBM,SAAQC,mBACzBH,cAAcE,SAAQE,eAElBD,iBAAiBE,KAAKC,SAASF,eAC/BD,iBAAiBI,QAAQ,yCAAyCC,qDAMxC,eAACf,4DAAO,UAAWC,mEAAc,MACnEC,uBAAuB,qBAAsB,OACvCc,iBAAmB,CAAC,6BAA8B,wBAClDT,cAAgBN,YAAYO,QAAmB,QAATR,KAAiBC,YAAce,iBAEzCZ,SAASC,iBAAiB,wBAElCI,SAAQQ,aAC9BV,cAAcE,SAAQE,eAElBM,WAAWC,GAAGL,SAASF,eACvBM,WAAWH,QAAQ,4BAA4BC,kDAMxB,eAACI,2DAAM,OACrCC,cAAgBlB,uBAAuB,wBAItCmB,eAAiBjB,SAASC,iBAAiB,kBACjDgB,eAAeZ,SAAQa,eACEA,aAAajB,iBAAiB,KAEtCI,SAAQc,OACbA,KAAKX,KAAKC,SAAS,2BACnBU,KAAKX,KAAOO,IACZI,KAAKC,aAAa,SAAU,wBAMtCtB,uBAA0BuB,UAAaC,OAAOC,SAASf,KAAKC,SAASY,UACrEL,UAAY,IAAMhB,SAASwB,cAAc,QAAQC,UAAUC,SAAS"}